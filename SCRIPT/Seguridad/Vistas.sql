CREATE VIEW ARTICULO AS SELECT PRODUCTO.IDPRODUCTO,PRODUCTO.NOMBREPRODUCTO,PRODUCTO.DESCRIPCION,PRODUCTO.IDCATEGORIA,PRODUCTO.PATH,ITEM.IDPAIS,ITEM.IDREGION,ITEM.CANTIDAD,ITEM.PRECIOVENTA FROM PRODUCTO FULL OUTER JOIN ITEM ON PRODUCTO.IDPRODUCTO=ITEM.IDPRODUCTO;
--CREATE VIEW HISTORICOCOMPRA AS SELECT v.IDVENTA,v.FECHAVENTA,v.TOTAL,COUNT(dVenta.IDPRODUCTO) AS TOTALPRODUCTOS,v.IDCLIENTE  FROM VENTA v, DETALLEVENTA dVenta WHERE v.IDVENTA = dVenta.IDVENTA GROUP BY v.IDVENTA,v.FECHAVENTA,v.TOTAL,v.IDCLIENTE;
CREATE VIEW FACTURA AS SELECT dv.iddetalleventa IDDETALLEVENTA, v.idventa IDVENTA,p.NOMBREPRODUCTO , i.PRECIOVENTA,dv.CANTIDAD , v.IDCLIENTE ,v.TOTAL, pe.NOMBRE||' '||pe.APELLIDO NOMBRECLIENTE,v.FECHAVENTA from venta v , detalleventa dv, producto p, item i, persona pe where v.idventa = dv.idventa and dv.idproducto = p.idproducto and i.IDPRODUCTO = p.IDPRODUCTO and i.IDPAIS=(select idpais from persona where idpersona = v.idcliente) and i.IDREGION=(select idregion from persona where idpersona = v.idcliente) and pe.IDPERSONA=v.IDCLIENTE order by v.idventa;

CREATE VIEW REPORTEVENTA AS SELECT REPRESENTANTEVENTAS.IDREPRESENTANTEVENTAS,CLIENTE.IDCLIENTE,VENTA.IDVENTA, VENTA.FECHAVENTA FECHA, DETALLEVENTA.PRECIOTOTAL FROM VENTA,DETALLEVENTA,CLIENTE,HISTORICOCRV,REPRESENTANTEVENTAS WHERE VENTA.IDCLIENTE=CLIENTE.IDCLIENTE AND CLIENTE.IDCLIENTE = HISTORICOCRV.IDCLIENTE AND HISTORICOCRV.IDREPRESENTANTEVENTAS=REPRESENTANTEVENTAS.IDREPRESENTANTEVENTAS AND DETALLEVENTA.IDVENTA=VENTA.IDVENTA;

